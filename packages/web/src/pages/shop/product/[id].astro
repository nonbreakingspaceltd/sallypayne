---
import LayoutBase from '../../../layouts/Base.astro';
import LayoutProduct from '../../../layouts/Product.astro';
import { getProducts } from '../../../data/products';

export async function getStaticPaths() {
  return getProducts(fetch)
};

const { id } = Astro.request.params;
const {
  title,
  price,
  description,
  image,
  url,
  meta
} = Astro.props;

const product = {
  title,
  price,
  description,
  image,
  url
}
---
<LayoutBase modifier="product" title={title} meta={meta}>
  <LayoutProduct {...product} />
</LayoutBase>
